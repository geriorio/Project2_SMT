<div class="login-container">
  <div class="login-card">
    <div class="logo-section">
      <h1>ğŸšš Truck Management</h1>
    </div>
    
    <form (ngSubmit)="onLogin()" class="login-form" *ngIf="!isLoading">
      <div class="form-group">
        <label for="site">Kode Cabang</label>
        <input
          type="text"
          id="site"
          [(ngModel)]="site"
          name="site"
          placeholder="Isi Kode Cabang (misal: SGI030)"
          (input)="onSiteChange()"
          required
          [class.error]="errorMessage"
        />
      </div>

      <div class="form-group">
        <label for="empCode">Kode Pegawai</label>
        <input
          type="text"
          id="empCode"
          [(ngModel)]="empCode"
          name="empCode"
          placeholder="Isi Kode Pegawai"
          (input)="onEmpCodeChange()"
          required
          [class.error]="errorMessage"
        />
      </div>

      <!-- Current Location Display - Read Only -->
      <div class="location-section">
        <h4>ğŸ“ Current Location</h4>
        <p style="font-size: 12px; color: #666; margin: 0 0 16px 0; text-align: center;">
          â„¹ï¸ Your current GPS coordinates (automatically detected)
        </p>

        <!-- Single Row Coordinate Display -->
        <div class="coordinate-display-single">
          <div class="coordinate-item-single">
            <div class="coordinate-row">
              <div class="coordinate-part">
                <label>Lat:</label>
                <span class="coord-value">{{ manualLatitude || 'Detecting...' }}</span>
              </div>
              <div class="coordinate-separator">|</div>
              <div class="coordinate-part">
                <label>Long:</label>
                <span class="coord-value">{{ manualLongitude || 'Detecting...' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <button type="submit" class="login-btn" [disabled]="!empCode.trim() || !site.trim() || !manualLatitude || !manualLongitude">
        ğŸ“ Login with Current Position
      </button>
    </form>

    <!-- Loading State -->
    <div class="loading-section" *ngIf="isLoading">
      <div class="loading-spinner"></div>
      <p class="loading-text">{{ locationStatus }}</p>
    </div>

    <!-- Error Message -->
    <div class="error-alert" *ngIf="errorMessage && !isLoading">
      <p>âš ï¸ {{ errorMessage }}</p>
    </div>

    <!-- Success Message -->
    <div class="success-message" *ngIf="locationStatus.includes('successful') && isLoading">
      <h3>ğŸ‰ Location Detected!</h3>
      <p>Redirecting to dashboard...</p>
    </div>
  </div>
</div>
